<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã¶ã„ã™ã½ã£ï¼ã‚³ã‚¹ãƒ—ãƒ¬ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: sans-serif; background: #f4f6f8; color: #333; margin: 0; padding: 20px; }
        header { text-align: center; margin-bottom: 30px; }
        h1 { color: #5c6ac4; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; }
        .card { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .card img { width: 100%; height: 150px; object-fit: cover; background: #eee; }
        .info { padding: 10px; font-size: 0.9rem; }
        .debug-box { background: #333; color: #0f0; padding: 15px; margin-bottom: 20px; border-radius: 5px; font-family: monospace; white-space: pre-wrap; display: none; }
    </style>
</head>
<body>

<header>
    <h1>ğŸ‘˜ è¡¨ç¤ºãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰</h1>
    <p>ãƒ‡ãƒ¼ã‚¿ãŒæ¥ã¦ã„ã‚‹ã‹å¼·åˆ¶çš„ã«ç¢ºèªã—ã¾ã™</p>
</header>

<div id="debug-area" class="debug-box"></div>

<main id="content-area" class="grid"></main>

<script>
    // â–¼â–¼â–¼ ã“ã“ã«ã€Œã•ã£ããƒ‡ãƒ¼ã‚¿ãŒè¦‹ãˆãŸURLã€ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ â–¼â–¼â–¼
    const API_URL = "https://script.google.com/macros/library/d/1dSQQhMQHycSQYiBKbNiYQcsFEaS8OW--GxFedM5GBt3lZ4ew6OJxXBkn/3"; 
    // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²

    fetchData();

    async function fetchData() {
        const container = document.getElementById('content-area');
        const debugBox = document.getElementById('debug-area');
        
        container.innerHTML = 'èª­ã¿è¾¼ã¿ä¸­...';
        
        try {
            const res = await fetch(API_URL);
            const data = await res.json();

            // 1. ã¾ãšç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’ç”»é¢ã«å‡ºã™ï¼ˆã“ã‚Œã§ãƒ‡ãƒ¼ã‚¿ãŒæ¥ã¦ã„ã‚‹ã‹100%ã‚ã‹ã‚‹ï¼‰
            debugBox.style.display = 'block';
            debugBox.textContent = "ã€å—ä¿¡ãƒ‡ãƒ¼ã‚¿ç¢ºèªã€‘\n" + JSON.stringify(data, null, 2);

            // 2. ç„¡ç†ã‚„ã‚Šã‚«ãƒ¼ãƒ‰ã«ã™ã‚‹
            container.innerHTML = ''; // ã‚¯ãƒªã‚¢
            
            if (data.length === 0) {
                container.innerHTML = '<p style="color:red; font-weight:bold;">ãƒ‡ãƒ¼ã‚¿è‡ªä½“ã¯ç©ºã£ã½ã§å±Šã„ã¦ã„ã¾ã™ã€‚GASå´ã‚’è¦‹ã¦ãã ã•ã„ã€‚</p>';
                return;
            }

            data.forEach(item => {
                // åå‰ãªã©ãŒãªãã¦ã‚‚ã€Œä¸æ˜ã€ã¨ã—ã¦è¡¨ç¤ºã•ã›ã‚‹
                const member = item.member || "åå‰ãªã—";
                const img = item.image || "https://placehold.jp/150x150.png?text=NoImage";
                
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <img src="${img}" onerror="this.src='https://placehold.jp/150x150.png?text=Error'">
                    <div class="info">
                        <strong>${member}</strong><br>
                        <small>${item.cosplayer || ""}</small>
                    </div>
                `;
                container.appendChild(card);
            });

        } catch (e) {
            container.innerHTML = '<p style="color:red">é€šä¿¡ã‚¨ãƒ©ãƒ¼: ' + e.message + '</p>';
        }
    }
</script>

</body>
</html>


